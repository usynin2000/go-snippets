package main

import (
	"io"
	"fmt"
	"net/http"
)

func WriteHandler(w http.ResponseWriter, req *http.Request) {
	io.WriteString(w, "1")
	fmt.Fprint(w, "2")
	w.Write([]byte("3"))
}

func main() {
	err := http.ListenAndServe(":8080", http.HandlerFunc(WriteHandler))
	if err != nil {
		panic(err)
	}
}

// –≤—ã–≤–µ–¥–µ—Ç 123

// –í—Å—ë –¥–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –≤ Go –≤—Å–µ —Ç—Ä–∏ –≤—ã–∑–æ–≤–∞ –≤–Ω—É—Ç—Ä–∏ —Ç–≤–æ–µ–≥–æ WriteHandle –ø–∏—à—É—Ç –¥–∞–Ω–Ω—ã–µ –≤ http.ResponseWriter.

// –¢—É—Ç –≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ http.ResponseWriter –≤ Go ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, 
// –∫–æ—Ç–æ—Ä—ã–π —Å–∞–º –ø–æ —Å–µ–±–µ —Ä–∞—Å—à–∏—Ä—è–µ—Ç –¥—Ä—É–≥–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
// type ResponseWriter interface {
//     Header() Header
//     Write([]byte) (int, error)   // —Ä–µ–∞–ª–∏–∑—É–µ—Ç io.Writer
//     WriteHeader(statusCode int)
// }


// –ö–ª—é—á–µ–≤–∞—è —á–∞—Å—Ç—å:
// üëâ –£ ResponseWriter –µ—Å—Ç—å –º–µ—Ç–æ–¥ Write([]byte), –∞ –∑–Ω–∞—á–∏—Ç –æ–Ω —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å io.Writer.

// –¢–µ–ø–µ—Ä—å –ø–æ –ø–æ—Ä—è–¥–∫—É:

// io –ø–∞–∫–µ—Ç

// –§—É–Ω–∫—Ü–∏–∏ –∏–∑ io (–Ω–∞–ø—Ä–∏–º–µ—Ä, io.WriteString) –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ª—é–±–æ–π io.Writer.

// –¢–∞–∫ –∫–∞–∫ http.ResponseWriter —Ä–µ–∞–ª–∏–∑—É–µ—Ç io.Writer, –µ–≥–æ –º–æ–∂–Ω–æ —Ç—É–¥–∞ –ø–µ—Ä–µ–¥–∞—Ç—å.

// fmt –ø–∞–∫–µ—Ç

// fmt.Fprint –∏ –µ–≥–æ –¥—Ä—É–∑—å—è (Fprintf, Fprintln) —Ç–æ–∂–µ –ø–∏—à—É—Ç –≤ –ª—é–±–æ–π io.Writer.

// –û–ø—è—Ç—å –∂–µ, ResponseWriter –ø–æ–¥—Ö–æ–¥–∏—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ Write([]byte).

// –°–∞–º http.ResponseWriter

// –¢—ã –º–æ–∂–µ—à—å –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑–≤–∞—Ç—å w.Write([]byte(...)), –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –±–∞–∑–æ–≤—ã–π –º–µ—Ç–æ–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.


// –ü–æ–∫–∞ —Ç–≤–æ–π –æ–±—ä–µ–∫—Ç (w) —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å io.Writer, –µ–≥–æ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–º–∏—Ç—å –≤ –ª—é–±–æ–π –ø–∞–∫–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å –Ω–∏–º —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî –±—É–¥—å —Ç–æ io, fmt, log, json.Encoder, gzip.Writer, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.

// –≠—Ç–æ –∏ –µ—Å—Ç—å —Å–∏–ª–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –≤ Go:

// –Ω–µ –Ω—É–∂–Ω—ã –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è,

// –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ Write([]byte) ‚Üí –∏ —Ç—ã —É–∂–µ –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–Ω–Ω—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.